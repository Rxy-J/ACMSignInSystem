(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f272940"],{"0842":function(e,t,n){},"7a28":function(e,t,n){"use strict";n("893a")},"893a":function(e,t,n){},"93a5":function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["pushScopeId"])("data-v-20b9079e");var a={class:"user-train-info"},o=Object(c["createTextVNode"])(" 更多 "),r=Object(c["createTextVNode"])("删除 "),u=Object(c["createTextVNode"])(" 反馈 ");function i(e,t,n,i,s,l){var d=Object(c["resolveComponent"])("el-table-column"),b=Object(c["resolveComponent"])("el-button"),f=Object(c["resolveComponent"])("el-dropdown-item"),p=Object(c["resolveComponent"])("el-dropdown-menu"),m=Object(c["resolveComponent"])("el-dropdown"),j=Object(c["resolveComponent"])("el-table");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createVNode"])(j,{data:e.detailInfo,border:"",height:"500"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{prop:"id",label:"训练ID",align:"center"}),Object(c["createVNode"])(d,{prop:"username",label:"昵称",align:"center"}),Object(c["createVNode"])(d,{prop:"startTime",label:"开始时间",align:"center"}),Object(c["createVNode"])(d,{prop:"endTime",label:"结束时间",align:"center"}),Object(c["createVNode"])(d,{prop:"status",label:"状态",align:"center"},{default:Object(c["withCtx"])((function(t){return[Object(c["createElementVNode"])("span",{class:Object(c["normalizeClass"])(e.getStatusClass(t.row.status)),style:{"font-weight":"600"}},Object(c["toDisplayString"])(e.getStatusText(t.row.status,"text")),3)]})),_:1}),Object(c["createVNode"])(d,{prop:"timeLength",label:"训练时长",align:"center"}),Object(c["createVNode"])(d,{label:"删除/反馈",align:"center"},{default:Object(c["withCtx"])((function(t){return[Object(c["createVNode"])(m,{size:"medium",onCommand:function(n){return e.handleCommand(n,t.row.id)}},{dropdown:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,{class:"more-item",command:"delete"},{default:Object(c["withCtx"])((function(){return[r]})),_:1}),Object(c["createVNode"])(f,{class:"more-item",command:"feedback"},{default:Object(c["withCtx"])((function(){return[u]})),_:1})]})),_:1})]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{class:"more",type:"primary"},{default:Object(c["withCtx"])((function(){return[o]})),_:1})]})),_:2},1032,["onCommand"])]})),_:1})]})),_:1},8,["data"])])}Object(c["popScopeId"])();n("4de4"),n("d3b7");var s=n("d26a");function l(){return new Promise((function(e){s["a"].post({url:"/api/getrecord/"}).then((function(t){e(t.data.records)})).catch((function(e){console.log("获取个人训练记录失败",e)}))}))}var d=n("4328"),b=n.n(d),f=n("4995");function p(e){return new Promise((function(t){s["a"].post({url:"/api/droprecord/",headers:{"Content-type":"application/x-www-form-urlencoded"},data:b.a.stringify({rid:e})}).then((function(e){"success"===e.status?(Object(f["a"])({message:"删除成功",type:"success"}),t(!0)):(Object(f["a"])({message:"删除失败",type:"error"}),t(!1))})).catch((function(e){console.log(e),Object(f["a"])({message:"删除失败",type:"error"})}))}))}var m=n("215e"),j=Object(c["defineComponent"])({name:"UserTrainInfo",setup:function(){var e=Object(c["ref"])();l().then((function(t){e.value=null!==t&&void 0!==t?t:[]}));var t=function(t,n){"delete"==t?m["a"].confirm("确定删除该条记录吗",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){p("".concat(n)).then((function(t){t&&(e.value=e.value.filter((function(e){return e.id!=n})))}))})).catch((function(){Object(f["a"])({type:"info",message:"取消删除记录"})})):"feedback"==t?Object(f["a"])({type:"info",message:"该功能还未完善！"}):Object(f["a"])({type:"error",message:"错误的command:".concat(t)})},n=function(e){switch(e){case 0:return"status-incomplete";case 1:return"status-invalid";case 2:return"status-notrecord";case 3:return"status-complete"}},a=function(e){switch(e){case 0:return"未完成";case 1:return"无效";case 2:return"未记录";case 3:return"已完成"}};return{detailInfo:e,handleCommand:t,getStatusClass:n,getStatusText:a}}});n("7a28"),n("abd8");j.render=i,j.__scopeId="data-v-20b9079e";t["default"]=j},abd8:function(e,t,n){"use strict";n("0842")}}]);