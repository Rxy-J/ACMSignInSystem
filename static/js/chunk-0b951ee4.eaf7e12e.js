(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b951ee4"],{"93a5":function(e,t,n){"use strict";n.r(t);var c=n("7a23");Object(c["pushScopeId"])("data-v-22ca30cc");var o={class:"user-train-info"},r=Object(c["createTextVNode"])(" 更多 "),a=Object(c["createTextVNode"])("删除 "),i=Object(c["createTextVNode"])(" 反馈 ");function u(e,t,n,u,d,l){var s=Object(c["resolveComponent"])("el-table-column"),b=Object(c["resolveComponent"])("el-button"),p=Object(c["resolveComponent"])("el-dropdown-item"),f=Object(c["resolveComponent"])("el-dropdown-menu"),j=Object(c["resolveComponent"])("el-dropdown"),m=Object(c["resolveComponent"])("el-table");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createVNode"])(m,{data:e.detailInfo,border:""},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(s,{prop:"id",label:"训练ID",align:"center"}),Object(c["createVNode"])(s,{prop:"username",label:"昵称",align:"center"}),Object(c["createVNode"])(s,{prop:"startTime",label:"开始时间",align:"center"}),Object(c["createVNode"])(s,{prop:"endTime",label:"结束时间",align:"center"}),Object(c["createVNode"])(s,{prop:"status",label:"是否有效",align:"center"},{default:Object(c["withCtx"])((function(e){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(0!=e.row.status?"是":"否"),1)]})),_:1}),Object(c["createVNode"])(s,{prop:"status",label:"是否被记录",align:"center"},{default:Object(c["withCtx"])((function(e){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(0==e.row.status||3==e.row.status?"是":"否"),1)]})),_:1}),Object(c["createVNode"])(s,{prop:"timeLength",label:"训练时长",align:"center"}),Object(c["createVNode"])(s,{label:"删除/反馈",align:"center"},{default:Object(c["withCtx"])((function(t){return[Object(c["createVNode"])(j,{size:"medium",onCommand:function(n){return e.handleCommand(n,t.row.id)}},{dropdown:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(f,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(p,{class:"more-item",command:"delete"},{default:Object(c["withCtx"])((function(){return[a]})),_:1}),Object(c["createVNode"])(p,{class:"more-item",command:"feedback"},{default:Object(c["withCtx"])((function(){return[i]})),_:1})]})),_:1})]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b,{class:"more",type:"primary"},{default:Object(c["withCtx"])((function(){return[r]})),_:1})]})),_:2},1032,["onCommand"])]})),_:1})]})),_:1},8,["data"])])}Object(c["popScopeId"])();n("4de4"),n("d3b7");var d=n("d26a");function l(){return new Promise((function(e){d["a"].post({url:"/api/getrecord/"}).then((function(t){e(t.data.records)})).catch((function(e){console.log("获取个人训练记录失败",e)}))}))}var s=n("4328"),b=n.n(s),p=n("4995");function f(e){return new Promise((function(t){d["a"].post({url:"/api/droprecord/",headers:{"Content-type":"application/x-www-form-urlencoded"},data:b.a.stringify({rid:e})}).then((function(e){"success"===e.status?(Object(p["a"])({message:"删除成功",type:"success"}),t(!0)):(Object(p["a"])({message:"删除失败",type:"error"}),t(!1))})).catch((function(e){console.log(e),Object(p["a"])({message:"删除失败",type:"error"})}))}))}var j=n("215e"),m=Object(c["defineComponent"])({name:"UserTrainInfo",setup:function(){var e=Object(c["ref"])();l().then((function(t){e.value=null!==t&&void 0!==t?t:[]}));var t=function(t,n){"delete"==t?j["a"].confirm("确定删除该条记录吗",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){f("".concat(n)).then((function(t){t&&(e.value=e.value.filter((function(e){return e.id!=n})))}))})).catch((function(){Object(p["a"])({type:"info",message:"取消删除记录"})})):"feedback"==t?Object(p["a"])({type:"info",message:"该功能还未完善！"}):Object(p["a"])({type:"error",message:"错误的command:".concat(t)})};return{detailInfo:e,handleCommand:t}}});n("e2c2");m.render=u,m.__scopeId="data-v-22ca30cc";t["default"]=m},c85e:function(e,t,n){},e2c2:function(e,t,n){"use strict";n("c85e")}}]);